<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
{% load static %}
<link rel="stylesheet" href="{% static 'css/style.css' %}">

</head>
<!-- Barre de navigation en haut -->
  <nav class="bg-white p-4 flex justify-between items-center fixed top-0 left-0 w-full shadow z-50">
    <h1 class="text-2xl font-bold text-blue-500">Arena of Creators</h1>

    <!-- Menu Profil avec Dropdown -->
    <div class="relative">
      <button id="profileBtn" class="flex items-center gap-2 focus:outline-none">
        {% if user.profile_picture %}
      <img src="{{ user.profile_picture.url }}" alt="static/default.png" class="w-8 h-8 rounded-full">
        {% else %}
      <img src="{% static 'images/default_profile.png.url' %}" alt="Profil" class="w-8 h-8 rounded-full">
        {% endif %}
        <span class="font-medium">Profil</span>
      </button>

      <!-- Dropdown Menu -->
      {% if user.is_authenticated %}
      <div id="dropdownMenu" class="absolute right-0 mt-2 w-40 bg-white border rounded-lg shadow-lg hidden">
        <a href="{% url 'profile' user.username %}" class="block px-4 py-2 hover:bg-gray-100">Mon Profil</a>
        <a href="{% url 'logout' %}" class="block px-4 py-2 hover:bg-gray-100">Déconnexion</a>
      </div>
      {% endif %}
    </div>
  </nav>
<!-- Menu latéral gauche fixe -->
<aside class="fixed top-16 left-0 w-60 h-full bg-gray-200 p-4 shadow">
  <ul class="space-y-4">
    <li><a href="{% url 'home' %}" class="block p-2 bg-blue-500 text-white rounded">Accueil</a></li>
    <li><button onclick="openUsersModal()" class="block p-2 hover:bg-gray-300 rounded">Nouveau message</button></li>
     <li><a href="{% url 'marketplace' %}" class="block p-2 hover:bg-gray-300 rounded">Marketplace</a></li>
    <li><a href="{% url 'gaming' %}" class="block p-2 hover:bg-gray-300 rounded">Gaming</a></li>
    <li>
      <details class="group">
        <summary class="p-2 cursor-pointer hover:bg-gray-300 rounded">Publier</summary>
        <ul class="pl-4 mt-2 space-y-1">
          <li><button onclick="openPostModal()" class="block p-2 hover:bg-gray-300 rounded">Evenement</button></li>
          <li><button onclick="openGameModal()"  class="block p-2 hover:bg-gray-300 rounded">Jeu</button></li>
          <li><button onclick="openClipModal()" class="block p-2 hover:bg-gray-300 rounded">Clip de jeu</button></li>
          <li><button onclick="openServiceModal()" class="block p-2 hover:bg-gray-300 rounded">Service</button></li>
        </ul>
      </details>
    </li>
    <li><button onclick="openNotificationModal()" class="relative">Notification
  <i class="fas fa-bell text-2xl"></i>
  <span id="notification-count" class="absolute -top-2 -right-2 bg-red-600 text-white rounded-full px-2 text-xs hidden">0</span>
</button></li>
    <li><button onclick="openRecommendModal()" class="relative">
  Voir les recommandations
</button></li>
  </ul>
</aside>

{% include 'allUsers.html' %}
{% include 'gameModal.html' %}
{% include 'clipModal.html' %}
{% include 'post.html' %}
{% include 'notificationModal.html' %}
{% include 'recommandModal.html' %}
{% include 'service.html' %}

</html>

 <script src="{% static 'js/script.js' %}" defer></script>