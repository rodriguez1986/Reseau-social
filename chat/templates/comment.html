{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Clips de Jeu</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>

<!-- Modal caché par défaut -->
<div id="commentModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center">
    <div class="bg-white p-6 rounded-lg w-96 shadow-lg">
        <h2 class="text-xl font-bold mb-4">Ajouter un commentaire</h2>

        <!-- Formulaire de commentaire -->
        <form method="POST"  onsubmit="sendComment(event)">
            {% csrf_token %}
            <!-- Liste des commentaires -->
            <div  id="comment-list" data-post-id="{{ post.id }}" class="mt-4 max-h-72 overflow-y-auto pr-2">

                <!-- Les commentaires existants seront ajoutés ici via WebSocket -->


            </div><hr>

            <!-- Champ de saisie pour ajouter un commentaire -->
            <div class="mt-3 flex items-center gap-2">
                <img src="{{ user.profile_picture.url }}" alt="static/default.png" class="w-8 h-8 rounded-full">
                <input type="text" name="content" id="commentInput" placeholder="Ajouter un commentaire..." class="w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
            </div>

            <div class="flex justify-end mt-4">
                <button type="button" onclick="closeModal()" class="mr-2 px-4 py-2 bg-gray-300 rounded">Annuler</button>
                <button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded">Commenter</button>
            </div>
        </form>

    </div>
</div>
<script>
  const username = "{{ request.user.username }}";
</script>



